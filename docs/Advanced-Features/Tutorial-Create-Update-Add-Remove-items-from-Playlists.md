<p>In this tutorial, we will walk through how to create a playlist and manage the assets assigned to the playlist through the API. Generally, it involves 4 steps.  Firstly, you will need to create a playlist. Secondly, you will need to add content to the playlist. Then you can update the playlist items to change the setting of the playlist items, e.g. change the play duration. Lastly, you can remove the contents from the playlist.</p>
<h4 id="h_01JFDNT51S8NHFHCBJGY96SDKY"><strong>1. Create a playlist</strong></h4>
<p>To create a playlist, you will need to use the savePlaylist mutation. And supply the playlist name as a arguments in the payload. If it runs successfully, it will return the requested data from the server, and an id will be assigned to the playlist. This id will be needed in the next step when assigning contents to the playlist.</p>
<pre><code class="language-json" data-language="json">mutation <span class="token punctuation">{</span><br>  savePlaylist(payload<span class="token operator">:</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">"demo_playlist"</span><span class="token punctuation">}</span>)<span class="token punctuation">{</span><br>          _id<span class="token punctuation">,</span><br>          name<span class="token punctuation">,</span><br>          path<span class="token punctuation">,</span><br>          assets<span class="token punctuation">{</span><br>            _id<span class="token punctuation">,</span><br>           fileType<span class="token punctuation">,</span><br>            filename<span class="token punctuation">,</span><br>            duration<span class="token punctuation">,</span><br>            appType<br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          teamId<span class="token punctuation">,</span><br>          tags<br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><img src="https://support.optisigns.com/hc/article_attachments/36563851116179"></p>
<h4 id="h_01JFDNT51SCA75QEBJTA645AYX"><strong>2. Assign contents to the playlist</strong></h4>
<p>To assign the contents to the playlist, you can use the addPlaylistItems mutation. You will need to supply the playlist id retrieved from the above step, and also provide the asset id in the payload.</p>
<pre><code class="language-json" data-language="json">mutation <span class="token punctuation">{</span><br>  addPlaylistItems(_id<span class="token operator">:</span><span class="token string">"4Xt7P6eYJGc4bXjR8"</span><span class="token punctuation">,</span>payload<span class="token operator">:</span><span class="token punctuation">{</span><br>    ids<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">"uRQynMhDsJ6QY35Wf",<br>          "6744ff5add229e00123cf5e6"]</span><span class="token punctuation">,</span><br>    pos<span class="token operator">:</span> <span class="token number">1</span><br>  <span class="token punctuation">}</span>)<span class="token punctuation">{</span><br>             _id<span class="token punctuation">,</span><br>             fileType<span class="token punctuation">,</span><br>            filename<span class="token punctuation">,</span><br>            duration<span class="token punctuation">,</span><br>            appType<br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><img src="https://support.optisigns.com/hc/article_attachments/36563843298579"></p>
<h4 id="h_01JFDNT51S7E7HAC2GMMQMKQCX"><strong>3. Change the duration of the content in the playlist</strong></h4>
<p>To change the duration of the assets in the playlist, you can use the updatePlaylistItems mutation. You will need to supply the playlist id retrieved from the above step, and also provide the duration and position of the asset in the playlist that you want to apply the change to in the payload.</p>
<pre><code class="language-json" data-language="json">mutation <span class="token punctuation">{</span><br>  updatePlaylistItems(_id<span class="token operator">:</span><span class="token string">"4Xt7P6eYJGc4bXjR8"</span><span class="token punctuation">,</span>payload<span class="token operator">:</span><span class="token punctuation">{</span><br>    items<span class="token operator">:</span>  <span class="token punctuation">[</span><span class="token punctuation">{</span>item<span class="token operator">:</span> <span class="token punctuation">{</span>duration<span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">,</span> pos<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><br>  <span class="token punctuation">}</span>)<span class="token punctuation">{</span><br>            _id<span class="token punctuation">,</span><br>            fileType<span class="token punctuation">,</span><br>            filename<span class="token punctuation">,</span><br>            duration<span class="token punctuation">,</span><br>            appType<br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><img src="https://support.optisigns.com/hc/article_attachments/36563843301523"></p>
<p>Now, you can see the demo_playlist is created in the account with the selected assets. And the duration of the items are set to 15 seconds.</p>
<p><img src="https://support.optisigns.com/hc/article_attachments/36563843314195"></p>
<h4 id="h_01JFDNT51SA813YFTH9C8SYVMS"><strong>4. Remove the content from the playlist</strong></h4>
<p>To remove the contents from the playlist, you can use the removePlaylistItems mutation. You will need to supply the playlist id retrieved from the above step, and also provide the position of the asset in the playlist that you want to remove in the payload.</p>
<pre><code class="language-json" data-language="json">mutation <span class="token punctuation">{</span><br>  removePlaylistItems(_id<span class="token operator">:</span><span class="token string">"d87B9ARKPyH8YYBbs"</span><span class="token punctuation">,</span>payload<span class="token operator">:</span><span class="token punctuation">{</span>pos<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>)<span class="token punctuation">{</span><br>            _id<span class="token punctuation">,</span><br>            fileType<span class="token punctuation">,</span><br>            filename<span class="token punctuation">,</span><br>            duration<span class="token punctuation">,</span><br>            appType<br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><img src="https://support.optisigns.com/hc/article_attachments/36563851134995"></p>
<p>Now you can see, the first 2 assets in the playlist are removed from the playlist.</p>
<p><img src="https://support.optisigns.com/hc/article_attachments/36563851142291"></p>
<p><strong>Previous Article - <a href="https://support.optisigns.com/hc/en-us/articles/4414553099667-GraphQL-API-Tutorial-Pair-and-Assign-Content-to-Screen" target="_blank" rel="noopener noreferrer">Tutorial: Pair and Assign Content to Screen</a></strong></p>
<p><strong>Next Article - <a href="https://support.optisigns.com/hc/en-us/articles/36562094987795-Tutorial-Creating-or-Updating-Website-Assets-Using-GraphQL" target="_blank" rel="noopener noreferrer">Tutorial: Creating or Updating Website Assets Using GraphQL</a></strong></p>
<p> </p>